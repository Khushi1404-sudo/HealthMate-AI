<!DOCTYPE html>
<html>
<head>
    <style>
        body { background-color: #0a1628; color: white; font-family: sans-serif; padding: 20px; }
        .card { background: #1e293b; padding: 20px; border-radius: 15px; margin-bottom: 10px; }
        input { width: 100%; margin: 10px 0; }
        button { background: #0ea5e9; color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; }
        #result { margin-top: 20px; padding: 20px; border-radius: 15px; text-align: center; display: {{DISPLAY}}; background-color: {{COLOR}}; }
    </style>
</head>
<body>
    <h1>HealthMate AI</h1>
    <div class="card">
        <label>Heart Rate: <span id="hr_val">{{HR}}</span></label>
        <input type="range" id="hr" min="40" max="180" value="{{HR}}" oninput="document.getElementById('hr_val').innerText=this.value">
        
        <label>Temp (Â°F): <span id="temp_val">{{TEMP}}</span></label>
        <input type="range" id="temp" min="94" max="105" value="{{TEMP}}" step="0.1" oninput="document.getElementById('temp_val').innerText=this.value">
        
        <label>Systolic BP: <span id="sys_val">{{SYS}}</span></label>
        <input type="range" id="sys" min="70" max="200" value="{{SYS}}" oninput="document.getElementById('sys_val').innerText=this.value">
        
        <label>Diastolic BP: <span id="dia_val">{{DIA}}</span></label>
        <input type="range" id="dia" min="40" max="130" value="{{DIA}}" oninput="document.getElementById('dia_val').innerText=this.value">
        
        <button onclick="runAI()">ANALYZE NOW</button>
    </div>
    
    <div id="result">
        <h2>{{TITLE}}</h2>
        <p>{{MSG}}</p>
    </div>

    <script>
        function runAI() {
            const data = {
                hr: document.getElementById('hr').value,
                temp: document.getElementById('temp').value,
                sys: document.getElementById('sys').value,
                dia: document.getElementById('dia').value
            };
            window.parent.postMessage({
                isStreamlitCommunication: true,
                type: "streamlit:setComponentValue",
                value: JSON.stringify(data)
            }, "*");
        }
    </script>
</body>
</html>